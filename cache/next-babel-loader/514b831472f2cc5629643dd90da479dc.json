{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useEffect, useState } from 'react';\nimport styles from './MainComponent.module.css';\nimport RunningLogsList from \"../RunningLogsList/RunningLogsList\";\nimport VegaLiteChart from \"../VegaLiteChart/VegaLiteChart\";\nimport { getChartData, getListData } from \"../../models/logData\"; // import {loadFiles} from \"../../models/loadFiles\";\n\nfunction MainComponent(props) {\n  // const [logDataArray, setLogDataArray] = useState([]);\n  var _useState = useState(0),\n      index = _useState[0],\n      setIndex = _useState[1];\n\n  var logDataArray = props.dataArray;\n  var logsListData = [];\n  var chartData = null;\n  var runData = null; // Effect to load all data from AWS s3\n  // useEffect( () => {\n  //     const fetchData = async () => {\n  //         const localDataArray = await loadFiles();\n  //         // If all data loaded, render list and select first row\n  //         if (localDataArray.length > 0) {\n  //             setLogDataArray(localDataArray);             // trigger rendering\n  //         }\n  //     };\n  //\n  //     if (logDataArray.length === 0) {\n  //         fetchData();\n  //     }\n  // });\n  // Callback to set new chart data and update selected index\n\n  var logItemClicked = function logItemClicked(index) {\n    setIndex(index); // trigger rendering\n  }; // Setup data before rendering\n\n\n  if (logDataArray.length > 0) {\n    logsListData = logDataArray.map(function (data) {\n      return getListData(data);\n    });\n    var localData = logDataArray[index];\n    chartData = localData.runningTime ? getChartData(localData) : null;\n    runData = getListData(localData);\n  }\n\n  return __jsx(\"main\", {\n    className: styles.MainComponent\n  }, __jsx(RunningLogsList, {\n    logsListData: logsListData,\n    selectedIndex: index,\n    logItemClicked: logItemClicked\n  }), __jsx(VegaLiteChart, {\n    data: chartData,\n    runData: runData\n  }));\n}\n\nexport default MainComponent;","map":null,"metadata":{},"sourceType":"module"}